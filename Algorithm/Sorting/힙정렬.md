# 힙정렬

## 특징

- heap 자료구조를 이용하는 정렬기법
     - heap 이란 완전 이진 트리 중 하나로 부모와 자식 노드간에 대소관계가 있는 완전 이진 트리를 말한다. (두 값이 같아도 된다.)
- 부모 노드에 최대값이 저장되는 heap이 Max heap, 최소값이 저장되는 heap이 Min heap 이다.
- 오름차순의 경우 Max heap, 내림차순의 경우 Min heap을 사용한다.



### 시간복잡도

- 평균, 최선, 최악 전부 O(nlogn) 이다.
    - heapify 시간복잡도 : O(logn) , 모든 원소에서 반복 O(n)  -> O(nlogn)


### 장점

- 제자리 정렬(in-place sorting)
  - 또 다른 대표적인 O(nlogn) 정렬 기법인 (하이퍼링크)합병정렬과는 다르게 추가적인 메모리를 소모하지 않는다.
  - 기존의 배열에서 heapify 연산으로 계속해서 원소의 위치를 서로 바꾸면서 진행되므로 추가적인 메모리를 소모하지 않는다.



### 단점

- 불안정 정렬(Unstable Sort)
   - root 노드와 말단 노드가 같은 key일 경우 기본 순서에 따르면 우선 두 값을 바꾸게 되고 그 후에 그 말단 노드는 위치가 고정된다. 따라서, 기존의 순서가 유지되지 않을 수 있다.
   



## 원리

(오름차순)
1. 우선, 기본 배열에서 Max heap을 만든다. build heap 시간복잡도 : O(n)
2. root 노드와 heap의 가장 맨 뒤 노드의 위치를 변경한다.  -> 전체 중 제일 큰 값이 맨 뒤로 가게 된다.
3. heap size를 1 줄인다.
4. heap의 성질을 유지하도록 root에 있는 값을 heapify 하여 올바른 위치를 찾아준다. : O(logn)
5. heap size가 1이 될때까지 이 과정을 반복한다. : O(n)




## 

